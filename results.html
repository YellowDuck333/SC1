<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Results</title>
    <style>
        body { font-family: sans-serif; line-height: 1.6; margin: 20px; text-align: center; }
        h1 { color: #333; }
    </style>
</head>
<body>
    <h1>Thank you for completing the survey.</h1>
    <p id="time-taken"></p>
    <p><a id="email-link" href="">Click here to email your results</a></p>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const timeInSeconds = urlParams.get('time');

        if (timeInSeconds) {
            const minutes = Math.floor(timeInSeconds / 60);
            const remainingSeconds = timeInSeconds % 60;
            const timeString = `${minutes} minutes and ${remainingSeconds} seconds`;

            document.getElementById('time-taken').innerText = `Time taken: ${timeString}.`;

            const emailLink = document.getElementById('email-link');
            const email = 'rmhical@ucl.ac.uk';
            const subject = 'Quiz Completion Time';
            const body = `Time taken to complete the survey: ${timeString}`;
            emailLink.href = `mailto:${email}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
        } else {
            document.getElementById('time-taken').innerText = 'Time taken was not recorded.';
        }
    </script>
</body>
</html>
